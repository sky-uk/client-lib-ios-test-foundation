# Swift Autogeneration Demo
This demo project shows you how to:
- fully automate API calls and models generation using swagger codegen
- test the entire App with Sky Test Foundation and develop new features without a real backend

## Structure
```
This folder
 |--> /codegen               contains swagger codegen custom modules and configurations
 |--> /openapi-specs         contains OpenAPI specifications from which to generate client SDKs
 |--> /PetStoreSDK           SPM Package contaning completely autogenerated PetStore client SDK
 |--> /PetStoreApp           example app and playground to showcase Sky Test Foundation
 |--> generate-client-sdk    invokes swagger codegen and generates client SDKs from OpenAPI specs
 |--> select                 utility script to fastly switch OpenAPI specs and regenerate client SDK
```

## PetStoreApp
Enter `PetStoreApp` folder and then `xed .` to open it in Xcode.

## PetStoreSDK
`PetStoreSDK` gets autogenerated from `openapi-specs/PetStore.yaml` when you execute `./generate-client-sdk`.

### Switch PetStore specification
`openapi-specs` contains different versions of the PetStore OpenAPI spec:

- `PetStore.yaml` is the `selected` specification used for autogeneration
- `PetStore_Ver00.yaml` is the original OpenAPI spec got from https://github.com/OAI/OpenAPI-Specification/tree/main/examples/v2.0/yaml
- `PetStore_Ver01+Food.yaml` defines Food Model and FoodAPI
  - Food API is not implemented in original PetStore. This has been done on purpose, to show how you can leverage Sky Test Foundation to develop your app even before your real backend is ready.

Execute `./select` script to fastly switch the two specs, regenerate the client SDK on the fly and comment/uncomment additional implementation code.

You can run FoodTest.testFoodDetail() UI test after switching to `PetStore_Ver01+Food.yaml`.
